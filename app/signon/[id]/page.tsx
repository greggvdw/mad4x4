'use client';import { useState } from 'react';export default function SignOn({params}:{params:{id:string}}){const [error,setError]=useState<string|null>(null);const [ok,setOk]=useState(false);async function submit(e:any){e.preventDefault();setError(null);const form=new FormData(e.currentTarget);const res=await fetch('/api/signon',{method:'POST',body:form});if(!res.ok){const j=await res.json().catch(()=>({error:'Failed'}));setError(j.error||'Failed to submit');return;}setOk(true);e.currentTarget.reset();}return (<div style={{maxWidth:640}}><h1>Event Sign-on</h1><p>Event ID: {params.id}</p>{ok && <p style={{color:'green'}}>Thanks â€” your sign-on was recorded.</p>}{error && <p style={{color:'crimson'}}>{error}</p>}<form className="card" onSubmit={submit}><input type="hidden" name="event_id" value={params.id}/><label>Full name<br/><input name="full_name" required style={{width:'100%'}}/></label><br/><label>Email<br/><input type="email" name="email" style={{width:'100%'}}/></label><br/><label>Phone<br/><input name="phone" style={{width:'100%'}}/></label><br/><label>Vehicle rego<br/><input name="vehicle_rego" style={{width:'100%'}}/></label><br/><label>Passengers (names)<br/><input name="passengers" style={{width:'100%'}}/></label><br/><label>Emergency contact (name & phone)<br/><input name="emergency_contact" style={{width:'100%'}}/></label><br/><label>Medical info (optional)<br/><textarea name="medical_info" rows={3} style={{width:'100%'}}/></label><br/><label><input type="checkbox" name="acknowledgement" required/> I acknowledge the trip rules and safety briefing.</label><br/><button className="btn" type="submit">Submit sign-on</button></form></div>);}