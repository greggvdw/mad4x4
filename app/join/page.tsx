'use client';import { useState } from 'react';export default function Join(){const [loading,setLoading]=useState(false);const [error,setError]=useState<string|null>(null);async function start(){setLoading(true);setError(null);try{const res=await fetch('/api/checkout',{method:'POST'});const {url,error}=await res.json();if(error) throw new Error(error);window.location.href=url;}catch(e:any){setError(e.message);}finally{setLoading(false);} }return (<div style={{maxWidth:480}}><h1>Join MAD4x4</h1><p>Become a member and support the club.</p><button className="btn" onClick={start} disabled={loading}>{loading?'Startingâ€¦':'Proceed to payment'}</button>{error && <p style={{color:'crimson'}}>{error}</p>}</div>);}